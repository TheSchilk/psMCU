@include StdLib.psASM


MAIN:

# STS & STL, GROW & SHRINK

GROW 4
LITA 0xf1
STSA -1
LITA 0xf2
STSA -2
LITA 0xf3
STSA -3
LITA 0xf4
STSA -4

STLA -1
STLA -2
STLA -3
STLA -4
SHRINK -4

HALT

# PUSH & POP

LITA 0
PUSHA
LITA 1
PUSHA
LITB 2
PUSHB 
LITB 3
PUSHB

LITA 0
LITB 0

POPA
POPB
POPA
POPB

HALT

# CALL & RETURN

LITA 0
LITB 0

JMP SKIP

FUNC:
    CALL FUNC2
    RTRN

FUNC2:
    ADDLA 1
    ADDLB 1
    RTRN

SKIP:
CALL FUNC
CALL FUNC
CALL FUNC

HALT

JMP MAIN
