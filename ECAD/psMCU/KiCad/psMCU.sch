EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A3 16535 11693
encoding utf-8
Sheet 1 109
Title "psMCU"
Date "2022-02-13"
Rev "v1.1"
Comp "Philipp Schilk"
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 "A fairly full-featured, 8-bit processor built entirely from 74-Series logic."
$EndDescr
Text Notes 7250 6350 0    118  Italic 0
'Why not?'
Text Notes 7300 6750 0    118  ~ 0
Philipp Schilk\n2020-2022
Text Notes 7000 6000 0    315  Italic 63
psMCU
Wire Wire Line
	3050 9200 2550 9200
Text Label 3050 9200 2    50   ~ 0
DBGR_SER7
Text Label 750  10400 0    50   ~ 0
DBGW_SER
Wire Wire Line
	1300 10400 750  10400
Wire Wire Line
	750  10500 1300 10500
Text Label 750  10500 0    50   ~ 0
DBGW_SCLK
Text Label 750  10600 0    50   ~ 0
DBGW_DBUS
Wire Wire Line
	1300 10600 750  10600
Wire Wire Line
	750  9000 1300 9000
Text Label 750  9000 0    50   ~ 0
DBGR_SER6
Wire Wire Line
	3050 8300 2550 8300
Text Label 3050 8300 2    50   ~ 0
DBGR_SER6
Wire Wire Line
	750  8100 1300 8100
Text Label 750  8100 0    50   ~ 0
DBGR_SER5
Wire Wire Line
	3050 10200 2550 10200
Text Label 3050 10200 2    50   ~ 0
DBGR_SER5
Wire Wire Line
	750  10000 1300 10000
Text Label 750  10000 0    50   ~ 0
DBGR_SER4
Wire Wire Line
	750  10200 1300 10200
Wire Wire Line
	750  10100 1300 10100
Text Label 750  10200 0    50   ~ 0
DBGR_RCLK
Text Label 750  10100 0    50   ~ 0
DBGR_SCLK
Wire Wire Line
	750  9200 1300 9200
Wire Wire Line
	750  9100 1300 9100
Text Label 750  9200 0    50   ~ 0
DBGR_RCLK
Text Label 750  9100 0    50   ~ 0
DBGR_SCLK
Wire Wire Line
	750  8300 1300 8300
Wire Wire Line
	750  8200 1300 8200
Text Label 750  8300 0    50   ~ 0
DBGR_RCLK
Text Label 750  8200 0    50   ~ 0
DBGR_SCLK
$Sheet
S 1300 9500 1250 1200
U 5F394B96
F0 "Data Bus" 50
F1 "DBUS.sch" 50
F2 "DB_OUT" T L 1300 9700 50 
F3 "DB[0..7]" T L 1300 9600 50 
F4 "DB_OUT_EXT" T L 1300 9800 50 
F5 "DBGR_SCLK" I L 1300 10100 50 
F6 "DBGR_RCLK" I L 1300 10200 50 
F7 "DBGR_SER_O" O L 1300 10000 50 
F8 "DBGR_SER_I" I R 2550 10200 50 
F9 "DBGW_SER" I L 1300 10400 50 
F10 "DBGW_SCLK" I L 1300 10500 50 
F11 "DBGW_DBUS" I L 1300 10600 50 
$EndSheet
Wire Bus Line
	2550 7800 3150 7800
Wire Bus Line
	2550 8700 3150 8700
Wire Bus Line
	3150 8200 3150 8700
Wire Wire Line
	750  9800 1300 9800
Text Label 750  9800 0    50   ~ 0
DB_OUT_EXT
Wire Bus Line
	3150 7800 3150 8100
Text Label 5350 8600 2    50   ~ 0
Cond
Wire Wire Line
	5650 9700 6250 9700
Text Label 5650 9700 0    50   ~ 0
CompC_Flag
Text Label 8150 9300 2    50   ~ 0
CompC
Wire Wire Line
	7750 9300 8150 9300
Wire Bus Line
	6250 10500 5700 10500
Wire Bus Line
	7850 9100 7850 9950
Wire Wire Line
	5650 9500 6250 9500
Wire Wire Line
	5650 9400 6250 9400
Wire Wire Line
	5650 9300 6250 9300
Connection ~ 5450 7800
Wire Bus Line
	5450 7800 6250 7800
Wire Bus Line
	5550 7900 6250 7900
Wire Bus Line
	5450 8800 6250 8800
Wire Bus Line
	5550 8900 6250 8900
Wire Bus Line
	5450 10300 6250 10300
Wire Bus Line
	5550 10400 6250 10400
Wire Bus Line
	5450 7800 5450 8800
Wire Bus Line
	5550 7900 5550 8900
Text Label 5650 9400 0    50   ~ 0
Logic_Comp_OE
Wire Bus Line
	3800 9350 3150 9350
Text Label 5650 9300 0    50   ~ 0
Logic_Dual_OE
Text Label 5650 9500 0    50   ~ 0
Logic_Not_OE
Wire Wire Line
	6250 10900 5700 10900
Text Label 5700 10900 0    50   ~ 0
C_Flag
Wire Wire Line
	5700 10800 6250 10800
Text Label 5700 10800 0    50   ~ 0
ALU_DoBComp
Wire Wire Line
	5700 10700 6250 10700
Text Label 5700 10700 0    50   ~ 0
ALU_OE
Wire Wire Line
	8150 10700 7750 10700
Wire Wire Line
	7750 10600 8150 10600
Wire Wire Line
	7750 10500 8150 10500
Text Label 8150 10500 2    50   ~ 0
C
Text Label 8150 10700 2    50   ~ 0
OVF
Text Label 8150 10600 2    50   ~ 0
HC
Text Label 5700 10500 0    50   ~ 0
Inst[0..15]
$Sheet
S 6250 8700 1500 1100
U 5FF66C9F
F0 "LogicOps.sch" 50
F1 "LogicOps.sch" 50
F2 "DB_OUT" T R 7750 8900 50 
F3 "DB[0..7]" T R 7750 8800 50 
F4 "Inst[0..15]" I L 6250 9100 50 
F5 "OP_B_Comp[0..7]" O R 7750 9100 50 
F6 "RegA[0..7]" I L 6250 8800 50 
F7 "OpB[0..7]" I L 6250 8900 50 
F8 "Dual_OE" I L 6250 9300 50 
F9 "Comp_OE" I L 6250 9400 50 
F10 "Not_OE" I L 6250 9500 50 
F11 "CompC" O R 7750 9300 50 
F12 "CompC_Flag" I L 6250 9700 50 
$EndSheet
Text Label 3750 8200 2    50   ~ 0
RegB[0..7]
Wire Bus Line
	3800 8200 3150 8200
Text Label 3050 8900 2    50   ~ 0
DB[0..7]
Wire Bus Line
	2550 8900 3050 8900
Text Label 3050 9000 2    50   ~ 0
DB_OUT
Wire Wire Line
	2550 9000 3050 9000
Text Label 3250 9450 0    50   ~ 0
Inst[0..15]
Wire Bus Line
	6250 8100 5650 8100
Text Label 5650 8100 0    50   ~ 0
Inst[0..15]
Wire Bus Line
	6250 9100 5650 9100
Text Label 5650 9100 0    50   ~ 0
Inst[0..15]
Wire Bus Line
	3800 8600 3250 8600
Text Label 3250 8600 0    50   ~ 0
Inst[0..15]
Text Label 5650 8400 0    50   ~ 0
BarrelS_OE
Wire Wire Line
	6250 8400 5650 8400
Wire Wire Line
	1300 8800 750  8800
Wire Wire Line
	1300 8700 750  8700
Wire Wire Line
	1300 7900 750  7900
Wire Wire Line
	1300 7800 750  7800
Text Label 750  8700 0    50   ~ 0
RegB_OE
Text Label 750  8800 0    50   ~ 0
RegB_Latch
Text Label 750  7800 0    50   ~ 0
RegA_OE
Text Label 750  7900 0    50   ~ 0
RegA_Latch
Wire Wire Line
	3250 8900 3800 8900
Text Label 3250 8900 0    50   ~ 0
PC_Cond_Inc
Wire Wire Line
	5350 8600 4900 8600
Text Label 5650 8300 0    50   ~ 0
ShiftIn
Wire Wire Line
	6250 8300 5650 8300
Wire Bus Line
	3800 9450 3250 9450
Text Label 3250 8700 0    50   ~ 0
DB[0..7]
Wire Bus Line
	3800 8700 3250 8700
Text Label 8150 10200 2    50   ~ 0
DB[0..7]
Wire Bus Line
	7750 10200 8150 10200
Text Label 8150 8800 2    50   ~ 0
DB[0..7]
Wire Bus Line
	7750 8800 8150 8800
Text Label 8150 7800 2    50   ~ 0
DB[0..7]
Wire Bus Line
	7750 7800 8150 7800
Text Label 2900 8000 2    50   ~ 0
DB[0..7]
Wire Bus Line
	2550 8000 2900 8000
Text Label 750  9600 0    50   ~ 0
DB[0..7]
Wire Bus Line
	1300 9600 750  9600
Text Label 3750 8100 2    50   ~ 0
RegA[0..7]
Text Label 750  9700 0    50   ~ 0
DB_OUT
Wire Wire Line
	1300 9700 750  9700
Wire Bus Line
	7750 9100 7850 9100
Wire Bus Line
	6150 9950 7850 9950
Wire Bus Line
	6150 10200 6150 9950
Wire Bus Line
	6250 10200 6150 10200
Text Label 2900 8100 2    50   ~ 0
DB_OUT
Wire Wire Line
	2550 8100 2900 8100
$Sheet
S 1300 8600 1250 700 
U 61C3CF88
F0 "RegB" 50
F1 "Reg.sch" 50
F2 "OE" I L 1300 8700 50 
F3 "DB[0..7]" T R 2550 8900 50 
F4 "VAL[0..7]" O R 2550 8700 50 
F5 "DB_OUT" T R 2550 9000 50 
F6 "Latch" I L 1300 8800 50 
F7 "DBGR_SCLK" I L 1300 9100 50 
F8 "DBGR_RCLK" I L 1300 9200 50 
F9 "DBGR_SER_O" O L 1300 9000 50 
F10 "DBGR_SER_I" I R 2550 9200 50 
$EndSheet
$Sheet
S 1300 7700 1250 700 
U 61C3CF7F
F0 "RegA" 50
F1 "Reg.sch" 50
F2 "DB[0..7]" T R 2550 8000 50 
F3 "VAL[0..7]" O R 2550 7800 50 
F4 "DB_OUT" T R 2550 8100 50 
F5 "OE" I L 1300 7800 50 
F6 "Latch" I L 1300 7900 50 
F7 "DBGR_SCLK" I L 1300 8200 50 
F8 "DBGR_RCLK" I L 1300 8300 50 
F9 "DBGR_SER_O" O L 1300 8100 50 
F10 "DBGR_SER_I" I R 2550 8300 50 
$EndSheet
Text Label 8150 8900 2    50   ~ 0
DB_OUT
Wire Wire Line
	7750 8900 8150 8900
Text Label 8150 7900 2    50   ~ 0
DB_OUT
Wire Wire Line
	7750 7900 8150 7900
Text Label 8150 10300 2    50   ~ 0
DB_OUT
Wire Wire Line
	7750 10300 8150 10300
$Sheet
S 3800 8000 1100 300 
U 5FD6B215
F0 "Comparator.sch" 50
F1 "Comparator.sch" 50
F2 "REG_A[0..7]" I L 3800 8100 50 
F3 "REG_B[0..7]" I L 3800 8200 50 
F4 "COMP[0..4]" O R 4900 8100 50 
$EndSheet
$Sheet
S 6250 10100 1500 900 
U 5FD6F26B
F0 "ALU" 50
F1 "ALU.sch" 50
F2 "OpB[0..7]" I L 6250 10400 50 
F3 "DB_OUT" T R 7750 10300 50 
F4 "DB[0..7]" T R 7750 10200 50 
F5 "OE" I L 6250 10700 50 
F6 "OP_B_Comp[0..7]" I L 6250 10200 50 
F7 "RegA[0..7]" I L 6250 10300 50 
F8 "HC" O R 7750 10600 50 
F9 "C" O R 7750 10500 50 
F10 "Inst[0..15]" I L 6250 10500 50 
F11 "C_Flag" I L 6250 10900 50 
F12 "OVF" O R 7750 10700 50 
F13 "DoBComp" I L 6250 10800 50 
$EndSheet
$Sheet
S 3800 8500 1100 550 
U 5FD6B1FB
F0 "BitTest" 50
F1 "BitTest.sch" 50
F2 "DB[0..7]" T L 3800 8700 50 
F3 "Inst[0..15]" I L 3800 8600 50 
F4 "Cond" O R 4900 8600 50 
F5 "Cond_Inc" I L 3800 8900 50 
$EndSheet
$Sheet
S 3800 9250 1100 300 
U 5F629530
F0 "Operand B Select" 50
F1 "OperandB_select.sch" 50
F2 "Inst[0..15]" I L 3800 9450 50 
F3 "RegB[0..7]" I L 3800 9350 50 
F4 "OpB[0..7]" O R 4900 9350 50 
$EndSheet
$Sheet
S 6250 7700 1500 800 
U 5F43204F
F0 "BarrelShifter" 50
F1 "BarrelShifter.sch" 50
F2 "Shift_In" I L 6250 8300 50 
F3 "DB[0..7]" T R 7750 7800 50 
F4 "DB_OUT" T R 7750 7900 50 
F5 "OE" I L 6250 8400 50 
F6 "RegA[0..7]" I L 6250 7800 50 
F7 "OpB[0..7]" I L 6250 7900 50 
F8 "Inst[0..15]" I L 6250 8100 50 
$EndSheet
Wire Bus Line
	3800 8100 3150 8100
Text Notes 650  7500 0    315  Italic 0
Data Manipulation:
Wire Notes Line
	14200 3250 14300 3250
Text Label 15900 5700 2    50   ~ 0
RAM_R_Fast
Text Label 15900 5600 2    50   ~ 0
RAM_W_Fast
Wire Wire Line
	15050 5700 15900 5700
Wire Wire Line
	15050 5600 15900 5600
$Sheet
S 13450 1200 1600 5200
U 60E33DBC
F0 "Control" 50
F1 "Control.sch" 50
F2 "Inst[0..15]" I L 13450 1300 50 
F3 "Bkpt_Trig" I L 13450 1400 50 
F4 "PC_Inc" O R 15050 1400 50 
F5 "PC_Cond_Inc" O R 15050 1500 50 
F6 "PC_Latch" O R 15050 1600 50 
F7 "RegA_Latch" O R 15050 1800 50 
F8 "RegA_OE" O R 15050 1900 50 
F9 "In[0..7]->DBus" O R 15050 3900 50 
F10 "RAM_W" O R 15050 4100 50 
F11 "RAM_R_Sync_A" O R 15050 4300 50 
F12 "RAM_Sync_D_A" O R 15050 4400 50 
F13 "RegI_Latch" O R 15050 1300 50 
F14 "RegB_Latch" O R 15050 2000 50 
F15 "RegB_OE" O R 15050 2100 50 
F16 "ALU_DoBComp" O R 15050 2700 50 
F17 "ALU_OE" O R 15050 2800 50 
F18 "Logic_Comp_OE" O R 15050 2900 50 
F19 "Logic_Not_OE" O R 15050 3000 50 
F20 "Logic_Dual_OE" O R 15050 3100 50 
F21 "BarrelS_OE" O R 15050 3200 50 
F22 "Stack_W" O R 15050 4500 50 
F23 "Stack_R" O R 15050 4600 50 
F24 "Stack_Present_Data" O R 15050 4700 50 
F25 "Stack_Sync_Data" O R 15050 4800 50 
F26 "Stack_Sync_Adr" O R 15050 4900 50 
F27 "In[0..13]->ROMA" O R 15050 3400 50 
F28 "Inst_Step" I L 13450 1600 50 
F29 "Inst_Step_EN" I L 13450 1700 50 
F30 "Int_Assert" I L 13450 1900 50 
F31 "Int_EN" I L 13450 2000 50 
F32 "UI_Halted" O R 15050 5900 50 
F33 "UI_Halt_Inst" O R 15050 6000 50 
F34 "UI_Halt_Step" O R 15050 6100 50 
F35 "UI_Halt_Bkpt" O R 15050 6200 50 
F36 "Stack_Ptr_Latch" O R 15050 5000 50 
F37 "Stack_Ofs_1" O R 15050 5200 50 
F38 "Stack_Ofs_-1" O R 15050 5300 50 
F39 "Stack_Ofs_0" O R 15050 5400 50 
F40 "Int_Active" O R 15050 6300 50 
F41 "IntAdr->ROMA" O R 15050 4000 50 
F42 "Stack_Ofs_Sgn" O R 15050 5500 50 
F43 "In[0..8]->RAMA" O R 15050 3700 50 
F44 "In[0..8]+B->RAMA" O R 15050 3800 50 
F45 "IAdr[8..13]->DBus" O R 15050 3600 50 
F46 "IAdr[0..7]->DBus" O R 15050 3500 50 
F47 "DBGW_SER" I L 13450 2200 50 
F48 "DBGW_SCLK" I L 13450 2300 50 
F49 "DBGW_CTRL" I L 13450 2400 50 
F50 "RegJ_OE_DataL" O R 15050 2600 50 
F51 "RegJ_OE_Adr" O R 15050 2500 50 
F52 "RegJ_LatchH" O R 15050 2300 50 
F53 "RegJ_LatchL" O R 15050 2200 50 
F54 "RAM_W_Fast" O R 15050 5600 50 
F55 "RAM_R_Fast" O R 15050 5700 50 
$EndSheet
Text Label 15900 2500 2    50   ~ 0
RegJ_OE_Adr
Text Label 15900 2600 2    50   ~ 0
RegJ_OE_DataL
Text Label 15900 2200 2    50   ~ 0
RegJ_LatchL
Text Label 15900 2300 2    50   ~ 0
RegJ_LatchH
Wire Wire Line
	15900 2300 15050 2300
Wire Wire Line
	15900 2200 15050 2200
Wire Wire Line
	15900 2500 15050 2500
Wire Wire Line
	15900 2600 15050 2600
Text Label 12950 2200 0    50   ~ 0
DBGW_SER
Wire Wire Line
	13450 2200 12950 2200
Wire Wire Line
	12950 2300 13450 2300
Text Label 12950 2300 0    50   ~ 0
DBGW_SCLK
Text Label 12950 2400 0    50   ~ 0
DBGW_CTRL
Wire Wire Line
	13450 2400 12950 2400
Text Label 10450 1900 0    50   ~ 0
DBGW_SER
Wire Wire Line
	11200 1900 10450 1900
Wire Wire Line
	10450 2000 11200 2000
Text Label 10450 2000 0    50   ~ 0
DBGW_SCLK
Text Label 10450 2100 0    50   ~ 0
DBGW_BKPT
Wire Wire Line
	11200 2100 10450 2100
Text Label 8350 1800 0    50   ~ 0
DBGW_ROMCT
Wire Wire Line
	8900 1800 8350 1800
Text Label 8350 1700 0    50   ~ 0
DBGW_ROM
Wire Wire Line
	8900 1700 8350 1700
Text Label 8350 1500 0    50   ~ 0
DBGW_SER
Wire Wire Line
	8900 1500 8350 1500
Wire Wire Line
	8350 1600 8900 1600
Text Label 8350 1600 0    50   ~ 0
DBGW_SCLK
Wire Wire Line
	8350 3400 8900 3400
Text Label 8350 3400 0    50   ~ 0
DBGR_SER3
Wire Wire Line
	8350 3300 8900 3300
Text Label 8350 3300 0    50   ~ 0
DBGR_SER2
Wire Wire Line
	8350 2300 8900 2300
Text Label 8350 2300 0    50   ~ 0
DBGR_SER2
Wire Wire Line
	8350 2000 8900 2000
Text Label 8350 2000 0    50   ~ 0
DBGR_SER1
Wire Wire Line
	8350 3100 8900 3100
Wire Wire Line
	8350 3200 8900 3200
Text Label 8350 3100 0    50   ~ 0
DBGR_RCLK
Text Label 8350 3200 0    50   ~ 0
DBGR_SCLK
Wire Wire Line
	8350 2200 8900 2200
Wire Wire Line
	8350 2100 8900 2100
Text Label 8350 2200 0    50   ~ 0
DBGR_RCLK
Text Label 8350 2100 0    50   ~ 0
DBGR_SCLK
$Sheet
S 8900 4700 1200 200 
U 6041A022
F0 "ROMA Bus" 50
F1 "ROMA_BUS.sch" 50
F2 "ROMA_OUT" T L 8900 4800 50 
F3 "ROMA[0..13]" B R 10100 4800 50 
$EndSheet
Wire Bus Line
	8200 3800 8900 3800
$Sheet
S 8900 3700 1250 800 
U 5F607AA2
F0 "PC" 50
F1 "PC.sch" 50
F2 "PC[0..13]" O L 8900 3800 50 
F3 "ROMA[0..13]" B R 10150 3800 50 
F4 "Inc" I L 8900 4000 50 
F5 "Latch" I L 8900 4200 50 
F6 "Cond_Inc" I L 8900 4100 50 
F7 "Cond" I L 8900 4400 50 
$EndSheet
Wire Bus Line
	8200 1300 8900 1300
$Sheet
S 8900 2600 1300 900 
U 62AC890F
F0 "IAdr Reg" 50
F1 "IAdr_Reg.sch" 50
F2 "PC[0..13]" I L 8900 2700 50 
F3 "IAdr[0..13]" O R 10200 2700 50 
F4 "Latch" I L 8900 2900 50 
F5 "DBGR_SCLK" I L 8900 3200 50 
F6 "DBGR_RCLK" I L 8900 3100 50 
F7 "DBGR_SER_O" O L 8900 3300 50 
F8 "DBGR_SER_I" I L 8900 3400 50 
$EndSheet
Text Label 10450 3150 0    50   ~ 0
IAdr[8..13]->DBus
Text Label 10450 3050 0    50   ~ 0
IAdr[0..7]->DBus
Wire Wire Line
	11200 3150 10450 3150
Wire Wire Line
	11200 3050 10450 3050
Text Label 15900 3600 2    50   ~ 0
IAdr[8..13]->DBus
Text Label 15900 3500 2    50   ~ 0
IAdr[0..7]->DBus
Wire Wire Line
	15050 3600 15900 3600
Wire Wire Line
	15050 3500 15900 3500
Connection ~ 10350 4150
Wire Bus Line
	10350 4150 11200 4150
Text Label 8350 2900 0    50   ~ 0
RegI_Latch
Wire Wire Line
	8350 2900 8900 2900
Wire Bus Line
	8200 2700 8900 2700
$Sheet
S 11200 2700 1200 550 
U 5F3A2F3D
F0 "IAdr[0..7]/[8..13] ->DBus" 50
F1 "IAdr_to_DBus.sch" 50
F2 "DB_OUT" T R 12400 2900 50 
F3 "DB[0..7]" T R 12400 2800 50 
F4 "IAdr[0..7]->DBus" I L 11200 3050 50 
F5 "IAdr[0..13]" I L 11200 2800 50 
F6 "IAdr[8..13]->DBus" I L 11200 3150 50 
$EndSheet
$Sheet
S 11200 3450 1200 400 
U 609EB802
F0 "Inst[0..7]->DBus" 50
F1 "Inst0..7_to_DBus.sch" 50
F2 "Inst[0..15]" I R 12400 3550 50 
F3 "DB[0..7]" T L 11200 3550 50 
F4 "DB_OUT" T L 11200 3650 50 
F5 "In[0..7]->DBus" I L 11200 3750 50 
$EndSheet
$Sheet
S 11200 4050 1200 600 
U 5F5CACFC
F0 "In[0..13]->ROMA" 50
F1 "In0..13_to_ROMA.sch" 50
F2 "ROMA[0..13]" B L 11200 4150 50 
F3 "In[0..13]->ROMA" I L 11200 4450 50 
F4 "ROMA_OUT" T L 11200 4250 50 
F5 "Inst[0..15]" I R 12400 4150 50 
F6 "IntAdr->ROMA" I L 11200 4550 50 
$EndSheet
$Sheet
S 11200 1800 1200 700 
U 5FD6F3D6
F0 "Breakpoint" 50
F1 "Breakpoint.sch" 50
F2 "Bkpt_Trig" O R 12400 1900 50 
F3 "IAdr[0..13]" I L 11200 2400 50 
F4 "DBGW_BKPT" I L 11200 2100 50 
F5 "DBGW_SER" I L 11200 1900 50 
F6 "DBGW_SCLK" I L 11200 2000 50 
$EndSheet
$Sheet
S 11200 1200 1200 400 
U 5F18F3CA
F0 "RegI" 50
F1 "RegI.sch" 50
F2 "NextInst[0..15]" I L 11200 1300 50 
F3 "Inst[0..15]" O R 12400 1300 50 
F4 "Latch" I L 11200 1500 50 
$EndSheet
Wire Wire Line
	12600 1900 12400 1900
Wire Wire Line
	12600 1400 12600 1900
Wire Bus Line
	10350 2400 11200 2400
Wire Wire Line
	15050 3800 15900 3800
Wire Wire Line
	15050 3700 15900 3700
Text Label 15900 3700 2    50   ~ 0
In[0..8]->RAMA
Text Label 15900 3800 2    50   ~ 0
In[0..8]+B->RAMA
Text Label 10450 4550 0    50   ~ 0
IntAdr->ROMA
Wire Wire Line
	11200 4550 10450 4550
Text Label 10450 4450 0    50   ~ 0
In[0..13]->ROMA
Wire Wire Line
	11200 4450 10450 4450
Text Label 10450 4250 0    50   ~ 0
ROMA_OUT
Wire Wire Line
	11200 4250 10450 4250
Wire Bus Line
	12400 2800 12750 2800
Wire Bus Line
	10350 2800 11200 2800
Text Label 12750 2800 2    50   ~ 0
DB[0..7]
Text Label 12750 2900 2    50   ~ 0
DB_OUT
Wire Wire Line
	12400 2900 12750 2900
Text Label 15900 5500 2    50   ~ 0
Stack_Ofs_Sgn
Text Label 15900 5400 2    50   ~ 0
Stack_Ofs_0
Text Label 15900 5300 2    50   ~ 0
Stack_Ofs_-1
Text Label 15900 5200 2    50   ~ 0
Stack_Ofs_1
Text Label 15900 5000 2    50   ~ 0
Stack_Ptr_Latch
Text Label 15900 4900 2    50   ~ 0
Stack_Sync_Adr
Text Label 15900 4800 2    50   ~ 0
Stack_Sync_Data
Text Label 15900 4700 2    50   ~ 0
Stack_Present_Data
Text Label 15900 4600 2    50   ~ 0
Stack_R
Text Label 15900 4500 2    50   ~ 0
Stack_W
Wire Wire Line
	15050 5500 15900 5500
Wire Wire Line
	15050 5400 15900 5400
Wire Wire Line
	15050 5300 15900 5300
Wire Wire Line
	15050 5200 15900 5200
Wire Wire Line
	15050 5000 15900 5000
Wire Wire Line
	15050 4900 15900 4900
Wire Wire Line
	15050 4800 15900 4800
Wire Wire Line
	15050 4700 15900 4700
Wire Wire Line
	15050 4600 15900 4600
Wire Wire Line
	15050 4500 15900 4500
Wire Wire Line
	13450 1700 12950 1700
Text Label 12950 1700 0    50   ~ 0
Inst_Step_EN
Text Label 12950 1600 0    50   ~ 0
Inst_Step
Wire Wire Line
	13450 1600 12950 1600
Text Label 15900 3100 2    50   ~ 0
Logic_Dual_OE
Text Label 15900 3000 2    50   ~ 0
Logic_Not_OE
Wire Wire Line
	15050 3100 15900 3100
Wire Wire Line
	15050 3000 15900 3000
Wire Wire Line
	15050 6200 15900 6200
Wire Wire Line
	15050 6100 15900 6100
Wire Wire Line
	15050 6000 15900 6000
Wire Wire Line
	15050 5900 15900 5900
Text Label 15900 6200 2    50   ~ 0
UI_Halt_Bkpt
Text Label 15900 6100 2    50   ~ 0
UI_Halt_Step
Text Label 15900 5900 2    50   ~ 0
UI_Halted
Text Label 15900 6000 2    50   ~ 0
UI_Halt_Inst
$Sheet
S 8900 1200 1300 1200
U 5F28170E
F0 "ROM" 50
F1 "ROM.sch" 50
F2 "PC[0..13]" I L 8900 1300 50 
F3 "NextInst[0..15]" O R 10200 1300 50 
F4 "DBGW_SER" I L 8900 1500 50 
F5 "DBGW_SCLK" I L 8900 1600 50 
F6 "DBGR_SER_I" I L 8900 2300 50 
F7 "DBGR_SCLK" I L 8900 2100 50 
F8 "DBGR_RCLK" I L 8900 2200 50 
F9 "DBGR_SER_O" O L 8900 2000 50 
F10 "DBGW_ROM" I L 8900 1700 50 
F11 "DBGW_ROMCT" I L 8900 1800 50 
$EndSheet
Wire Wire Line
	11200 3650 10450 3650
Text Label 10450 3650 0    50   ~ 0
DB_OUT
Wire Wire Line
	8900 4800 8350 4800
Text Label 8350 4800 0    50   ~ 0
ROMA_OUT
Wire Wire Line
	11200 4950 10450 4950
Text Label 10450 4950 0    50   ~ 0
DB_OUT
Wire Bus Line
	11200 5050 10450 5050
Text Label 10450 5050 0    50   ~ 0
DB[0..7]
Wire Bus Line
	11200 3550 10450 3550
Text Label 10450 3550 0    50   ~ 0
DB[0..7]
Wire Wire Line
	11200 5250 10450 5250
Text Label 10450 5250 0    50   ~ 0
ROMA_OUT
Wire Notes Line
	14200 1250 14300 1250
Wire Notes Line
	14200 1250 14200 1650
Wire Notes Line
	14200 1650 14300 1650
Wire Notes Line
	14300 1750 14200 1750
Wire Notes Line
	14200 1750 14200 2350
Wire Notes Line
	14200 2350 14300 2350
Wire Notes Line
	14300 2450 14200 2450
Wire Notes Line
	14200 2450 14200 3250
Wire Notes Line
	14200 3350 14300 3350
Wire Notes Line
	14200 3350 14200 4150
Wire Notes Line
	14300 4150 14200 4150
Wire Notes Line
	14300 4250 14200 4250
Wire Notes Line
	14200 4250 14200 5050
Wire Notes Line
	14200 5050 14300 5050
Wire Notes Line
	14300 5150 14200 5150
Wire Notes Line
	14200 5150 14200 5750
Wire Notes Line
	14200 5750 14300 5750
Text Notes 14100 1350 0    59   ~ 12
0
Text Notes 14100 1850 0    59   ~ 12
1
Text Notes 14100 2550 0    59   ~ 12
2
Text Notes 14100 3450 0    59   ~ 12
3
Text Notes 14100 4350 0    59   ~ 12
4
Text Notes 14100 5250 0    59   ~ 12
5
Text Label 12950 1900 0    50   ~ 0
Int_Assert
Wire Wire Line
	12950 1900 13450 1900
Text Label 12950 2000 0    50   ~ 0
Int_EN
Wire Wire Line
	12950 2000 13450 2000
Text Label 15900 1300 2    50   ~ 0
RegI_Latch
Text Label 10450 1500 0    50   ~ 0
RegI_Latch
Wire Wire Line
	10450 1500 11200 1500
Text Label 15900 1400 2    50   ~ 0
PC_Inc
Text Label 15900 1500 2    50   ~ 0
PC_Cond_Inc
Text Label 15900 1600 2    50   ~ 0
PC_Latch
Text Label 8350 4000 0    50   ~ 0
PC_Inc
Text Label 8350 4100 0    50   ~ 0
PC_Cond_Inc
Text Label 8350 4200 0    50   ~ 0
PC_Latch
Wire Wire Line
	8350 4000 8900 4000
Wire Wire Line
	8350 4100 8900 4100
Wire Wire Line
	8350 4200 8900 4200
Wire Wire Line
	8900 4400 8350 4400
Text Label 8350 4400 0    50   ~ 0
Cond
Wire Wire Line
	15050 3900 15900 3900
Text Label 15900 3900 2    50   ~ 0
In[0..7]->DBus
Wire Wire Line
	11200 3750 10450 3750
Text Label 10450 3750 0    50   ~ 0
In[0..7]->DBus
Wire Wire Line
	15050 3400 15900 3400
Text Label 15900 3400 2    50   ~ 0
In[0..13]->ROMA
Wire Wire Line
	15050 4000 15900 4000
Text Label 15900 4000 2    50   ~ 0
IntAdr->ROMA
Text Label 15900 1800 2    50   ~ 0
RegA_Latch
Text Label 15900 1900 2    50   ~ 0
RegA_OE
Text Label 15900 2000 2    50   ~ 0
RegB_Latch
Text Label 15900 2100 2    50   ~ 0
RegB_OE
$Sheet
S 11200 4850 1200 1100
U 612C5E2A
F0 "RegJ" 50
F1 "RegJ.sch" 50
F2 "DB_OUT" T L 11200 4950 50 
F3 "DB[0..7]" T L 11200 5050 50 
F4 "ROMA[0..13]" B L 11200 5350 50 
F5 "ROMA_OUT" B L 11200 5250 50 
F6 "LatchL" I L 11200 5850 50 
F7 "LatchH" I L 11200 5750 50 
F8 "OE_Adr" I L 11200 5650 50 
F9 "OE_DataL" I L 11200 5550 50 
$EndSheet
Text Label 10450 5650 0    50   ~ 0
RegJ_OE_Adr
Text Label 10450 5550 0    50   ~ 0
RegJ_OE_DataL
Text Label 10450 5850 0    50   ~ 0
RegJ_LatchL
Text Label 10450 5750 0    50   ~ 0
RegJ_LatchH
Wire Wire Line
	10450 5750 11200 5750
Wire Wire Line
	10450 5850 11200 5850
Wire Wire Line
	10450 5650 11200 5650
Wire Wire Line
	10450 5550 11200 5550
Wire Wire Line
	15050 1300 15900 1300
Wire Wire Line
	15050 1400 15900 1400
Wire Wire Line
	15050 1500 15900 1500
Wire Wire Line
	15050 1600 15900 1600
Wire Wire Line
	15050 1800 15900 1800
Wire Wire Line
	15050 1900 15900 1900
Wire Wire Line
	15050 2000 15900 2000
Wire Wire Line
	15050 2100 15900 2100
Wire Wire Line
	15050 4100 15900 4100
Text Label 15900 4100 2    50   ~ 0
RAM_W
Text Label 15900 4300 2    50   ~ 0
RAM_R_Sync_A
Text Label 15900 4400 2    50   ~ 0
RAM_Sync_D_A
Wire Wire Line
	15900 4300 15050 4300
Wire Wire Line
	15900 4400 15050 4400
Wire Wire Line
	15050 6300 15900 6300
Text Label 15900 6300 2    50   ~ 0
Int_Active
Wire Wire Line
	15050 2700 15900 2700
Wire Wire Line
	15050 2800 15900 2800
Wire Wire Line
	15050 2900 15900 2900
Text Label 15900 2700 2    50   ~ 0
ALU_DoBComp
Text Label 15900 2800 2    50   ~ 0
ALU_OE
Text Label 15900 2900 2    50   ~ 0
Logic_Comp_OE
Wire Wire Line
	15050 3200 15900 3200
Text Label 15900 3200 2    50   ~ 0
BarrelS_OE
Wire Bus Line
	11200 5350 10350 5350
Text Label 13350 1300 2    50   ~ 0
Inst[0..15]
Text Notes 8150 950  0    315  Italic 0
Control:
Wire Bus Line
	10350 3800 10350 4150
Connection ~ 8200 2700
Wire Bus Line
	8200 2700 8200 3800
Wire Bus Line
	8200 1300 8200 2700
Wire Bus Line
	10150 3800 10350 3800
Wire Bus Line
	10100 4800 10350 4800
Wire Bus Line
	10350 4150 10350 4800
Wire Bus Line
	10350 2400 10350 2700
Wire Bus Line
	10200 1300 11200 1300
Wire Bus Line
	10200 2700 10350 2700
Connection ~ 10350 2700
Wire Bus Line
	10350 2700 10350 2800
Connection ~ 10350 4800
Wire Bus Line
	10350 4800 10350 5350
Wire Bus Line
	12400 4150 12850 4150
Wire Bus Line
	12850 4150 12850 3550
Wire Bus Line
	12400 1300 12850 1300
Connection ~ 12850 1300
Wire Bus Line
	12850 1300 13450 1300
Wire Bus Line
	12400 3550 12850 3550
Connection ~ 12850 3550
Wire Bus Line
	12850 3550 12850 1300
Wire Wire Line
	12600 1400 13450 1400
Connection ~ 5450 8800
Connection ~ 5550 8900
Wire Bus Line
	5550 8900 5550 9350
Wire Bus Line
	5450 8800 5450 10300
Wire Bus Line
	850  3300 850  4200
Wire Bus Line
	850  2400 850  3300
Connection ~ 850  3300
Connection ~ 850  2400
Connection ~ 3700 1300
Wire Bus Line
	3050 1300 3700 1300
Wire Wire Line
	950  2000 1550 2000
Text Label 6300 5200 2    50   ~ 0
DB[0..7]
Wire Bus Line
	5800 5200 6300 5200
Text Label 6300 5300 2    50   ~ 0
DB_OUT
Wire Wire Line
	5800 5300 6300 5300
Connection ~ 3700 4200
Wire Bus Line
	3700 4200 3700 5200
Text Label 3800 5500 0    50   ~ 0
Periph_R_Any
Wire Wire Line
	4450 5500 3800 5500
Text Label 3800 5400 0    50   ~ 0
Periph_W_Any
Wire Wire Line
	4450 5400 3800 5400
Wire Bus Line
	3700 5200 4450 5200
$Sheet
S 4450 5100 1350 500 
U 62F490F0
F0 "TempRegs.sch" 50
F1 "TempRegs.sch" 50
F2 "PeriphA[0..7]" I L 4450 5200 50 
F3 "Periph_W_Any" I L 4450 5400 50 
F4 "Periph_R_Any" I L 4450 5500 50 
F5 "DB[0..7]" T R 5800 5200 50 
F6 "DB_OUT" T R 5800 5300 50 
$EndSheet
Text Label 3800 4500 0    50   ~ 0
Periph_R_Any
Wire Wire Line
	4450 4500 3800 4500
Text Label 3800 4400 0    50   ~ 0
Periph_W_Any
Wire Wire Line
	4450 4400 3800 4400
Text Label 3800 3300 0    50   ~ 0
Periph_R_Any
Wire Wire Line
	4450 3300 3800 3300
Text Label 3800 3200 0    50   ~ 0
Periph_W_Any
Wire Wire Line
	4450 3200 3800 3200
Text Label 3800 1600 0    50   ~ 0
Periph_R_Any
Wire Wire Line
	4450 1600 3800 1600
Text Label 3800 1500 0    50   ~ 0
Periph_W_Any
Wire Wire Line
	4450 1500 3800 1500
Text Label 3600 1900 2    50   ~ 0
Periph_R_Any
Wire Wire Line
	3050 1900 3600 1900
Text Label 3600 1800 2    50   ~ 0
Periph_W_Any
Wire Wire Line
	3050 1800 3600 1800
Wire Bus Line
	850  1300 850  2400
Text Label 950  1900 0    50   ~ 0
RAM_R_Fast
Text Label 950  1800 0    50   ~ 0
RAM_W_Fast
Wire Wire Line
	1550 1900 950  1900
Wire Wire Line
	1550 1800 950  1800
$Sheet
S 1550 1200 1500 900 
U 5FD1E173
F0 "PeriphealInterface" 50
F1 "PeripheralInterface.sch" 50
F2 "DB[0..7]" T R 3050 1500 50 
F3 "DB_OUT" T R 3050 1600 50 
F4 "RAMA[0..8]" B L 1550 1300 50 
F5 "RAM_Sync_D_A" I L 1550 1700 50 
F6 "RAM_W" I L 1550 1500 50 
F7 "RAM_R_Sync_A" I L 1550 1600 50 
F8 "PeriphA[0..7]" O R 3050 1300 50 
F9 "Int_Assert" B L 1550 2000 50 
F10 "DB_OUT_EXT" T R 3050 1700 50 
F11 "Periph_W_Any" O R 3050 1800 50 
F12 "Periph_R_Any" O R 3050 1900 50 
F13 "RAM_W_Fast" I L 1550 1800 50 
F14 "RAM_R_Fast" I L 1550 1900 50 
$EndSheet
Wire Bus Line
	3700 1300 4450 1300
Wire Bus Line
	3700 1300 3700 3000
Text Label 1000 2700 0    50   ~ 0
DBGW_SER
Wire Wire Line
	1550 2700 1000 2700
Wire Wire Line
	1000 2800 1550 2800
Text Label 1000 2800 0    50   ~ 0
DBGW_SCLK
Text Label 1000 2900 0    50   ~ 0
DBGW_RAMA
Wire Wire Line
	1550 2900 1000 2900
Text Label 3800 3500 0    50   ~ 0
DBGW_SER
Wire Wire Line
	4450 3500 3800 3500
Wire Wire Line
	3800 3600 4450 3600
Text Label 3800 3600 0    50   ~ 0
DBGW_SCLK
Text Label 3800 3700 0    50   ~ 0
DBGW_PAGE
Wire Wire Line
	4450 3700 3800 3700
Wire Bus Line
	3700 3000 3700 4200
$Sheet
S 1550 2300 1500 700 
U 604F08FB
F0 "RAMA Bus" 50
F1 "RAMA_BUS.sch" 50
F2 "RAMA[0..8]" T L 1550 2400 50 
F3 "RAMA_OUT" T L 1550 2500 50 
F4 "DBGW_RAMA" I L 1550 2900 50 
F5 "DBGW_SER" I L 1550 2700 50 
F6 "DBGW_SCLK" I L 1550 2800 50 
$EndSheet
Wire Bus Line
	850  4200 1550 4200
Connection ~ 3700 3000
Text Label 3600 1700 2    50   ~ 0
DB_OUT_EXT
Wire Wire Line
	3600 1700 3050 1700
$Sheet
S 4450 1200 1350 1500
U 5FD65262
F0 "SysReg_1" 50
F1 "SysReg_1.sch" 50
F2 "PeriphA[0..7]" I L 4450 1300 50 
F3 "DB_OUT" T R 5800 1400 50 
F4 "DB[0..7]" T R 5800 1300 50 
F5 "ShiftIn" O R 5800 1600 50 
F6 "C_Out" O R 5800 1700 50 
F7 "CompC_Out" O R 5800 1800 50 
F8 "C" I L 4450 2200 50 
F9 "HC" I L 4450 2300 50 
F10 "CompC" I L 4450 2500 50 
F11 "OVF" I L 4450 2400 50 
F12 "ALU_DoBComp" I L 4450 1800 50 
F13 "ALU_OE" I L 4450 1900 50 
F14 "Logic_Comp_OE" I L 4450 2000 50 
F15 "CLK_F[0..2]" I L 4450 2600 50 
F16 "Periph_W_Any" I L 4450 1500 50 
F17 "Periph_R_Any" I L 4450 1600 50 
$EndSheet
Wire Wire Line
	1550 4600 800  4600
Wire Wire Line
	1550 4500 800  4500
Text Label 800  4600 0    50   ~ 0
In[0..8]->RAMA
Text Label 800  4500 0    50   ~ 0
In[0..8]+B->RAMA
Wire Bus Line
	1550 3300 850  3300
Wire Bus Line
	1550 1300 850  1300
Wire Wire Line
	1550 3700 950  3700
Text Label 950  3700 0    50   ~ 0
RAM_W
Text Label 950  3800 0    50   ~ 0
RAM_R_Sync_A
Text Label 950  3600 0    50   ~ 0
RAM_Sync_D_A
Wire Wire Line
	950  3800 1550 3800
Wire Wire Line
	950  3600 1550 3600
Text Label 6300 1800 2    50   ~ 0
CompC_Flag
Text Label 3800 2500 0    50   ~ 0
CompC
Wire Wire Line
	4450 2500 3800 2500
Wire Bus Line
	850  2400 1550 2400
Text Label 3600 4200 2    50   ~ 0
Inst[0..15]
Wire Bus Line
	3050 4200 3600 4200
Wire Wire Line
	3800 4600 4450 4600
Text Label 3800 4600 0    50   ~ 0
Set_Btn_Int_Flag
Text Label 6300 4200 2    50   ~ 0
DB[0..7]
Wire Bus Line
	5800 4200 6300 4200
Wire Bus Line
	3700 4200 4450 4200
Text Label 6300 4300 2    50   ~ 0
DB_OUT
Wire Wire Line
	5800 4300 6300 4300
Text Label 6300 4400 2    50   ~ 0
Int_EN
Wire Wire Line
	5800 4400 6300 4400
$Sheet
S 4450 4100 1350 800 
U 5FD65308
F0 "SysReg_3" 50
F1 "SysReg_3.sch" 50
F2 "DB[0..7]" T R 5800 4200 50 
F3 "DB_OUT" T R 5800 4300 50 
F4 "PeriphA[0..7]" I L 4450 4200 50 
F5 "Int_EN" O R 5800 4400 50 
F6 "Set_Btn_Int_Flag" I L 4450 4600 50 
F7 "Periph_W_Any" I L 4450 4400 50 
F8 "Periph_R_Any" I L 4450 4500 50 
F9 "COMP[0..4]" I L 4450 4800 50 
$EndSheet
Wire Bus Line
	3800 2600 4450 2600
Text Label 3800 2600 0    50   ~ 0
CLK_F[0..2]
Wire Wire Line
	950  1700 1550 1700
Wire Wire Line
	950  1600 1550 1600
Text Label 950  1700 0    50   ~ 0
RAM_Sync_D_A
Text Label 950  1600 0    50   ~ 0
RAM_R_Sync_A
Text Label 950  1500 0    50   ~ 0
RAM_W
Wire Wire Line
	1550 1500 950  1500
Text Label 3800 2200 0    50   ~ 0
C
Text Label 3800 2400 0    50   ~ 0
OVF
Text Label 3800 2300 0    50   ~ 0
HC
Wire Wire Line
	5800 1800 6300 1800
Wire Wire Line
	5800 1700 6300 1700
Text Label 6300 1700 2    50   ~ 0
C_Flag
Wire Wire Line
	4450 2400 3800 2400
Wire Wire Line
	4450 2300 3800 2300
Wire Wire Line
	4450 2200 3800 2200
Text Label 3800 2000 0    50   ~ 0
Logic_Comp_OE
Text Label 3800 1900 0    50   ~ 0
ALU_OE
Text Label 3800 1800 0    50   ~ 0
ALU_DoBComp
Wire Wire Line
	4450 2000 3800 2000
Wire Wire Line
	4450 1900 3800 1900
Wire Wire Line
	4450 1800 3800 1800
Text Label 950  2000 0    50   ~ 0
Int_Assert
Text Label 6300 1600 2    50   ~ 0
ShiftIn
Wire Wire Line
	5800 1600 6300 1600
Wire Wire Line
	1150 4300 1550 4300
Text Label 1150 4300 0    50   ~ 0
RAMA_OUT
Text Notes 3500 1200 0    50   ~ 0
\n\n
$Sheet
S 4450 2900 1350 1000
U 5FD65291
F0 "SysReg_2" 50
F1 "SysReg_2.sch" 50
F2 "DB_OUT" T R 5800 3100 50 
F3 "DB[0..7]" T R 5800 3000 50 
F4 "PeriphA[0..7]" I L 4450 3000 50 
F5 "PAGE[0..6]" O R 5800 3200 50 
F6 "DBGW_PAGE" I L 4450 3700 50 
F7 "DBGW_SER" I L 4450 3500 50 
F8 "DBGW_SCLK" I L 4450 3600 50 
F9 "Periph_W_Any" I L 4450 3200 50 
F10 "Periph_R_Any" I L 4450 3300 50 
$EndSheet
Wire Wire Line
	5800 1400 6300 1400
Text Label 6300 1400 2    50   ~ 0
DB_OUT
Wire Wire Line
	5800 3100 6300 3100
Text Label 6300 3100 2    50   ~ 0
DB_OUT
Wire Bus Line
	5800 3200 6300 3200
Text Label 6300 3200 2    50   ~ 0
PAGE[0..6]
Wire Bus Line
	4450 3000 3700 3000
Wire Bus Line
	5800 1300 6300 1300
Text Label 6300 1300 2    50   ~ 0
DB[0..7]
Wire Bus Line
	5800 3000 6300 3000
Text Label 6300 3000 2    50   ~ 0
DB[0..7]
Wire Wire Line
	3050 1600 3600 1600
Text Label 3600 1600 2    50   ~ 0
DB_OUT
Wire Bus Line
	3050 1500 3600 1500
Text Label 3600 1500 2    50   ~ 0
DB[0..7]
Wire Wire Line
	1150 2500 1550 2500
Text Label 1150 2500 0    50   ~ 0
RAMA_OUT
Text Label 3400 3300 2    50   ~ 0
DB[0..7]
Wire Bus Line
	3050 3300 3400 3300
Text Label 3400 3400 2    50   ~ 0
DB_OUT
Wire Wire Line
	3050 3400 3400 3400
Text Label 1100 3400 0    50   ~ 0
PAGE[0..6]
Wire Bus Line
	1550 3400 1100 3400
$Sheet
S 1550 4100 1500 600 
U 5F6FD493
F0 "In[0..7]/RegB->RAMA[0..7]" 50
F1 "In0..7_RegB_to_RAMA.sch" 50
F2 "Inst[0..15]" I R 3050 4200 50 
F3 "RegB[0..7]" I R 3050 4300 50 
F4 "RAMA[0..8]" B L 1550 4200 50 
F5 "RAMA_OUT" T L 1550 4300 50 
F6 "In[0..8]+B->RAMA" I L 1550 4500 50 
F7 "In[0..8]->RAMA" I L 1550 4600 50 
$EndSheet
$Sheet
S 1550 3200 1500 700 
U 5ED3C49A
F0 "RAM" 50
F1 "RAM.sch" 50
F2 "DB[0..7]" T R 3050 3300 50 
F3 "RAMA[0..8]" B L 1550 3300 50 
F4 "DB_OUT" T R 3050 3400 50 
F5 "PAGE[0..6]" I L 1550 3400 50 
F6 "Sync_D_A" I L 1550 3600 50 
F7 "W" I L 1550 3700 50 
F8 "R_Sync_A" I L 1550 3800 50 
$EndSheet
Text Notes 600  950  0    315  Italic 0
Memory & Peripherals:
Text Label 3600 4300 2    50   ~ 0
RegB[0..7]
Wire Bus Line
	3600 4300 3050 4300
Wire Wire Line
	9200 9200 9700 9200
Text Label 9200 9200 0    50   ~ 0
DBGW_STATE
Text Label 9200 9000 0    50   ~ 0
DBGW_SER
Wire Wire Line
	9700 9000 9200 9000
Wire Wire Line
	9200 9100 9700 9100
Text Label 9200 9100 0    50   ~ 0
DBGW_SCLK
Wire Wire Line
	15900 9400 15350 9400
Text Label 15900 9400 2    50   ~ 0
DBGW_STATE
Wire Wire Line
	15900 9300 15350 9300
Text Label 15900 9300 2    50   ~ 0
DBGW_CLKF
Wire Wire Line
	11100 9400 11650 9400
Text Label 11100 9400 0    50   ~ 0
DBGW_CLKF
Text Label 11100 9200 0    50   ~ 0
DBGW_SER
Wire Wire Line
	11650 9200 11100 9200
Wire Wire Line
	11100 9300 11650 9300
Text Label 11100 9300 0    50   ~ 0
DBGW_SCLK
Text Label 11100 9100 0    50   ~ 0
DBG_CLK
Wire Wire Line
	11650 9100 11100 9100
Text Label 15900 9550 2    50   ~ 0
DBG_CLK
Wire Wire Line
	15350 9550 15900 9550
Text Label 15900 9200 2    50   ~ 0
DBGW_CTRL
Wire Wire Line
	15350 9200 15900 9200
Text Label 15900 9100 2    50   ~ 0
DBGW_RAMA
Wire Wire Line
	15350 9100 15900 9100
Text Label 15900 9000 2    50   ~ 0
DBGW_STCK
Wire Wire Line
	15350 9000 15900 9000
Text Label 15900 8900 2    50   ~ 0
DBGW_PAGE
Text Label 15900 8800 2    50   ~ 0
DBGW_DBUS
Wire Wire Line
	15350 8900 15900 8900
Wire Wire Line
	15350 8800 15900 8800
Text Label 15900 8700 2    50   ~ 0
DBGW_BKPT
Wire Wire Line
	15350 8700 15900 8700
Text Label 15900 8600 2    50   ~ 0
DBGW_ROMCT
Wire Wire Line
	15350 8600 15900 8600
Text Label 15900 8500 2    50   ~ 0
DBGW_ROM
Wire Wire Line
	15350 8500 15900 8500
Text Label 15900 8300 2    50   ~ 0
DBGW_SER
Wire Wire Line
	15350 8300 15900 8300
Wire Wire Line
	15900 8200 15350 8200
Text Label 15900 8200 2    50   ~ 0
DBGW_SCLK
Wire Wire Line
	11450 9600 10950 9600
Text Label 11450 9600 2    50   ~ 0
DBGR_SER4
Wire Wire Line
	9200 9400 9700 9400
Text Label 9200 9400 0    50   ~ 0
DBGR_SER3
Text Label 15900 8000 2    50   ~ 0
DBGR_SER1
Wire Wire Line
	15350 8000 15900 8000
Wire Wire Line
	15900 7800 15350 7800
Wire Wire Line
	15900 7900 15350 7900
Text Label 15900 7800 2    50   ~ 0
DBGR_RCLK
Text Label 15900 7900 2    50   ~ 0
DBGR_SCLK
$Sheet
S 14400 7700 950  1950
U 64C5B36F
F0 "DebuggerInterface" 50
F1 "DebuggerInterface.sch" 50
F2 "DBGR_RCLK" O R 15350 7800 50 
F3 "DBGR_SCLK" O R 15350 7900 50 
F4 "DBGR_SER" I R 15350 8000 50 
F5 "DBGW_BKPT" O R 15350 8700 50 
F6 "DBGW_ROM" O R 15350 8500 50 
F7 "DBGW_SCLK" O R 15350 8200 50 
F8 "DBGW_SER" O R 15350 8300 50 
F9 "DBGW_ROMCT" O R 15350 8600 50 
F10 "DBGW_DBUS" O R 15350 8800 50 
F11 "DBGW_PAGE" O R 15350 8900 50 
F12 "DBGW_STCK" O R 15350 9000 50 
F13 "DBGW_RAMA" O R 15350 9100 50 
F14 "DBGW_CTRL" O R 15350 9200 50 
F15 "DBG_CLK" O R 15350 9550 50 
F16 "DBGW_CLKF" O R 15350 9300 50 
F17 "DBGW_STATE" O R 15350 9400 50 
$EndSheet
Wire Wire Line
	9200 9600 9700 9600
Wire Wire Line
	9200 9500 9700 9500
Text Label 9200 9600 0    50   ~ 0
DBGR_RCLK
Text Label 9200 9500 0    50   ~ 0
DBGR_SCLK
Wire Wire Line
	13300 7900 12750 7900
Wire Wire Line
	12750 7800 13300 7800
Wire Wire Line
	12750 8000 13300 8000
Wire Wire Line
	12700 8500 13300 8500
$Sheet
S 13300 7700 800  1450
U 62B3D95F
F0 "ResetClkDistr" 50
F1 "ResetClkDistr.sch" 50
F2 "RESET" I L 13300 7800 50 
F3 "~RESET" I L 13300 7900 50 
F4 "PWR_RESET" I L 13300 8000 50 
F5 "CLK" I L 13300 8500 50 
$EndSheet
Wire Wire Line
	10950 8900 11650 8900
Wire Wire Line
	10950 8800 11650 8800
Wire Wire Line
	10950 8600 11650 8600
Wire Wire Line
	10950 8500 11650 8500
Wire Wire Line
	10950 7800 11650 7800
Wire Wire Line
	10950 8400 11500 8400
Text Label 11500 8400 2    50   ~ 0
Inst_Step_EN
Text Label 11500 8300 2    50   ~ 0
Inst_Step
Wire Wire Line
	10950 8300 11500 8300
Wire Wire Line
	9700 7800 9200 7800
Text Label 9200 7800 0    50   ~ 0
Int_Active
Text Label 9200 8400 0    50   ~ 0
UI_Halt_Bkpt
Text Label 9200 8300 0    50   ~ 0
UI_Halt_Step
Text Label 9200 8100 0    50   ~ 0
UI_Halted
Text Label 9200 8200 0    50   ~ 0
UI_Halt_Inst
Wire Wire Line
	9700 8400 9200 8400
Wire Wire Line
	9700 8300 9200 8300
Wire Wire Line
	9700 8100 9200 8100
Wire Wire Line
	9700 8200 9200 8200
$Sheet
S 9700 7700 1250 2000
U 5FD4EE20
F0 "UI" 50
F1 "UI.sch" 50
F2 "Int_Assert" T L 9700 7900 50 
F3 "Int_Active" I L 9700 7800 50 
F4 "UI_Halted" I L 9700 8100 50 
F5 "UI_Halt_Inst" I L 9700 8200 50 
F6 "UI_Halt_Step" I L 9700 8300 50 
F7 "UI_Halt_Bkpt" I L 9700 8400 50 
F8 "Set_Btn_Int_Flag" O R 10950 8000 50 
F9 "Clk_Step" O R 10950 8500 50 
F10 "Clk_Step_EN" O R 10950 8600 50 
F11 "Inst_Step_EN" O R 10950 8400 50 
F12 "Inst_Step" O R 10950 8300 50 
F13 "Dec_Clk_F" O R 10950 8800 50 
F14 "Inc_Clk_F" O R 10950 8900 50 
F15 "UI_Do_Reset" O R 10950 7800 50 
F16 "DBGR_SCLK" I L 9700 9500 50 
F17 "DBGR_RCLK" I L 9700 9600 50 
F18 "DBGR_SER_O" O L 9700 9400 50 
F19 "DBGR_SER_I" I R 10950 9600 50 
F20 "DBGW_SER" I L 9700 9000 50 
F21 "DBGW_SCLK" I L 9700 9100 50 
F22 "DBGW_STATE" I L 9700 9200 50 
$EndSheet
Text Notes 9150 7500 0    315  Italic 0
System Support:
Wire Bus Line
	13200 8700 12700 8700
$Sheet
S 11650 7700 1100 400 
U 5FD3CD07
F0 "ResetCtrl" 50
F1 "ResetCtrl.sch" 50
F2 "~RESET" O R 12750 7900 50 
F3 "RESET" O R 12750 7800 50 
F4 "UI_Do_Reset" I L 11650 7800 50 
F5 "PWR_RESET" O R 12750 8000 50 
$EndSheet
$Sheet
S 11650 8400 1050 1250
U 608BF85D
F0 "Clock" 50
F1 "Clock.sch" 50
F2 "CLK" O R 12700 8500 50 
F3 "CLK_F[0..2]" O R 12700 8700 50 
F4 "Inc_Clk_F" I L 11650 8900 50 
F5 "Dec_Clk_F" I L 11650 8800 50 
F6 "Clk_Step_EN" I L 11650 8600 50 
F7 "Clk_Step" I L 11650 8500 50 
F8 "DBG_CLK" I L 11650 9100 50 
F9 "DBGW_SER" I L 11650 9200 50 
F10 "DBGW_SCLK" I L 11650 9300 50 
F11 "DBGW_CLKF" I L 11650 9400 50 
$EndSheet
Wire Wire Line
	9700 7900 9200 7900
Wire Wire Line
	11600 8000 10950 8000
Text Label 11600 8000 2    50   ~ 0
Set_Btn_Int_Flag
Text Label 13200 8700 2    50   ~ 0
CLK_F[0..2]
Text Label 9200 7900 0    50   ~ 0
Int_Assert
$Sheet
S 13300 9400 800  250 
U 62043340
F0 "PowerInput" 50
F1 "PowerInput.sch" 50
$EndSheet
Text Label 1000 6800 0    50   ~ 0
DBGW_STCK
Wire Wire Line
	1550 6800 1000 6800
Text Label 1000 6700 0    50   ~ 0
DBGW_SER
Wire Wire Line
	1550 6700 1000 6700
Wire Wire Line
	1000 6600 1550 6600
Text Label 1000 6600 0    50   ~ 0
DBGW_SCLK
Wire Wire Line
	1000 6400 1550 6400
Wire Wire Line
	1000 6300 1550 6300
Text Label 1000 6400 0    50   ~ 0
DBGR_RCLK
Text Label 1000 6300 0    50   ~ 0
DBGR_SCLK
$Comp
L power:GND #PWR039
U 1 1 67FBE4E9
P 3150 6500
F 0 "#PWR039" H 3150 6250 50  0001 C CNN
F 1 "GND" V 3155 6372 50  0000 R CNN
F 2 "" H 3150 6500 50  0001 C CNN
F 3 "" H 3150 6500 50  0001 C CNN
	1    3150 6500
	0    -1   -1   0   
$EndComp
Wire Wire Line
	3050 6500 3150 6500
Wire Wire Line
	1000 6500 1550 6500
Text Label 1000 6500 0    50   ~ 0
DBGR_SER7
$Sheet
S 1550 4900 1500 2000
U 5FD6EE9C
F0 "Stack" 50
F1 "Stack.sch" 50
F2 "DB[0..7]" T R 3050 5000 50 
F3 "W" I L 1550 5200 50 
F4 "R" I L 1550 5300 50 
F5 "DB_OUT" T R 3050 5100 50 
F6 "Present_Data" I L 1550 5400 50 
F7 "Sync_Data" I L 1550 5500 50 
F8 "Ofs_Sgn" I L 1550 6100 50 
F9 "Inst[0..15]" I L 1550 5000 50 
F10 "Ofs_0" I L 1550 6000 50 
F11 "Ofs_-1" I L 1550 5900 50 
F12 "Ofs_1" I L 1550 5800 50 
F13 "Sync_Adr" I L 1550 5600 50 
F14 "Ptr_Latch" I L 1550 5700 50 
F15 "DBGR_SCLK" I L 1550 6300 50 
F16 "DBGR_RCLK" I L 1550 6400 50 
F17 "DBGR_SER_I" I R 3050 6500 50 
F18 "DBGR_SER_O" O L 1550 6500 50 
F19 "DBGW_SER" I L 1550 6700 50 
F20 "DBGW_SCLK" I L 1550 6600 50 
F21 "DBGW_STCK" I L 1550 6800 50 
$EndSheet
Text Label 800  6100 0    50   ~ 0
Stack_Ofs_Sgn
Text Label 800  6000 0    50   ~ 0
Stack_Ofs_0
Text Label 800  5900 0    50   ~ 0
Stack_Ofs_-1
Text Label 800  5800 0    50   ~ 0
Stack_Ofs_1
Text Label 800  5700 0    50   ~ 0
Stack_Ptr_Latch
Text Label 800  5600 0    50   ~ 0
Stack_Sync_Adr
Text Label 800  5500 0    50   ~ 0
Stack_Sync_Data
Text Label 800  5400 0    50   ~ 0
Stack_Present_Data
Text Label 800  5300 0    50   ~ 0
Stack_R
Text Label 800  5200 0    50   ~ 0
Stack_W
Wire Wire Line
	1550 6100 800  6100
Wire Wire Line
	1550 6000 800  6000
Wire Wire Line
	1550 5900 800  5900
Wire Wire Line
	1550 5800 800  5800
Wire Wire Line
	1550 5700 800  5700
Wire Wire Line
	1550 5600 800  5600
Wire Wire Line
	1550 5500 800  5500
Wire Wire Line
	1550 5400 800  5400
Wire Wire Line
	1550 5300 800  5300
Wire Wire Line
	1550 5200 800  5200
Wire Bus Line
	1550 5000 1100 5000
Text Label 1100 5000 0    50   ~ 0
Inst[0..15]
Text Label 3400 5000 2    50   ~ 0
DB[0..7]
Wire Bus Line
	3050 5000 3400 5000
Text Label 3400 5100 2    50   ~ 0
DB_OUT
Wire Wire Line
	3050 5100 3400 5100
Text Notes 3050 6050 0    50   ~ 0
\n
Connection ~ 5550 9350
Wire Bus Line
	5550 9350 5550 10400
Text Label 5350 8100 2    50   ~ 0
COMP[0..4]
Wire Bus Line
	4900 9350 5550 9350
Wire Bus Line
	3150 7800 5450 7800
Connection ~ 3150 7800
Wire Bus Line
	4900 8100 5350 8100
Text Label 3800 4800 0    50   ~ 0
COMP[0..4]
Wire Bus Line
	4450 4800 3800 4800
Connection ~ 3150 8700
Wire Bus Line
	3150 8700 3150 9350
$EndSCHEMATC
